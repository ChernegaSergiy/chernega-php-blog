{% extends 'base.html.twig' %}

{% block content %}
    <div class="sol-terminal sol-mb-lg">
        <span class="sol-prompt">blog view recent_posts</span>
    </div>

    {% if posts is empty %}
        <div class="sol-terminal">
            <span class="sol-prompt">echo "Постів поки немає"</span>
        </div>
    {% else %}
        {% for post in posts %}
            <article class="sol-card sol-card--interactive" onclick="window.location.href='{{ post.url }}';">
                <div class="sol-card__header">
                    <a href="{{ post.url }}">
                        {{ post.title }}
                    </a>
                </div>
                <div class="sol-card__body">
                    <p>{{ post.preview_html|raw }}</p>
                </div>
                <div class="sol-card__footer text-sm text-muted">
                    <span>{{ post.date }}</span> |
                    <span>category: <a href="{{ post.category_url }}">{{ post.category }}</a></span>
                </div>
            </article>
        {% endfor %}
    {% endif %}

    {% if show_all_posts_link %}
        <div class="sol-text-center sol-mt-lg">
            <a href="/posts.php" class="sol-btn sol-btn--primary sol-btn--outline">Переглянути всі дописи</a>
        </div>
    {% endif %}
{% endblock %}

{% extends 'base.html.twig' %}

{% set current_role = current_admin.role|default('viewer') %}
{% set can_edit_content = current_role in ['editor', 'admin'] %}
{% set is_super_admin = current_role == 'admin' %}

{% block header %}
    <a href="/admin/" class="site-header__title">~/chernega.blog/admin</a>
    <nav class="site-header__nav">
        <a href="/admin/" class="site-header__nav-link {{ admin_nav_active == 'dashboard' ? 'active' : '' }}">dashboard</a>
        {% if can_edit_content %}
            <a href="/admin/posts/create.php" class="site-header__nav-link {{ admin_nav_active == 'create' ? 'active' : '' }}">create</a>
            <a href="/admin/media/index.php" class="site-header__nav-link {{ admin_nav_active == 'media' ? 'active' : '' }}">media</a>
        {% endif %}
        {% if is_super_admin %}
            <a href="/admin/settings.php" class="site-header__nav-link {{ admin_nav_active == 'settings' ? 'active' : '' }}">settings</a>
        {% endif %}
        <a href="/" class="site-header__nav-link" target="_blank" rel="noopener">view site</a>
        <a href="/admin/logout.php" class="site-header__nav-link">logout</a>
    </nav>
{% endblock %}

{% block content %}{% endblock %}
